(()=>{"use strict";class t{static nextId=0;constructor(e){this.id=++t.nextId,this.title=e,this.completed=!1}}const e=t,o=new class{todos=[];addTodo(t){const o=new e(t);this.todos=this.todos.concat(o)}deleteTodo(t){this.todos=this.todos.filter((e=>e.id!==t))}clearCompleted(){this.todos=this.todos.filter((t=>!t.completed))}completeTodo(t){this.todos=this.todos.map((e=>e.id===t?{...e,completed:!e.completed}:e))}completeAll(){let t=this.todos.every((t=>t.completed));this.todos=this.todos.map((e=>(e.completed=!t,e)))}getTodos(t="ALL"){return"ALL"===t?this.todos:"ACTIVE"===t?this.todos.filter((t=>!t.completed)):"COMPLETED"===t?this.todos.filter((t=>t.completed)):void 0}};o.addTodo("Title-1"),o.addTodo("Title-2"),o.addTodo("Title-3");const d=document.getElementById("new-input"),s=document.getElementById("todos-body"),l=document.getElementById("clear-completed"),c=document.getElementById("complete-all"),i=document.getElementById("footer");function n(t){const e=t.map((t=>`\n                <tr class="${t.completed?"bg-success":""}">\n                    <td><input data-action="complete" data-id=${t.id} type="checkbox" ${t.completed?"checked":""} /></td>\n                    <td>${t.title}</td>\n                    <td><button data-action="delete" data-id=${t.id}>delete</button></td>\n                </tr>\n            `));s.innerHTML=e.join(" ")}n(o.getTodos("ALL")),d.addEventListener("keyup",(t=>{if("Enter"!==t.key)return;let e=t.target.value;o.addTodo(e),t.target.value="",n(o.getTodos("ALL"))})),s.addEventListener("click",(t=>{const e=Number.parseInt(t.target.dataset.id),d=t.target.dataset.action;"complete"===d&&o.completeTodo(e),"delete"===d&&o.deleteTodo(e),n(o.getTodos("ALL"))})),l.addEventListener("click",(t=>{o.clearCompleted(),n(o.getTodos("ALL"))})),c.addEventListener("click",(t=>{o.completeAll(),n(o.getTodos("ALL"))})),i.addEventListener("click",(t=>{let e=t.target.id;"view-all"===e&&n(o.getTodos("ALL")),"view-active"===e&&n(o.getTodos("ACTIVE")),"view-completed"===e&&n(o.getTodos("COMPLETED"))}))})();